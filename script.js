const canvas = document.getElementById("scene");

const scale = window.devicePixelRatio;
canvas.width = Math.floor(window.innerWidth * scale);
canvas.height = Math.floor(window.innerHeight * scale);

const ctx = canvas.getContext("2d");
ctx.scale(scale, scale)
const imgData1x = "data:image/png;base64,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";
const imgData2x = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVQAAACdCAYAAADrAoB9AAAgAElEQVR4Xu3dB7w0V1UAcLEAIj1S1AgfTVqAICDVkISOFMUCGMAoWNAIIjVSBKUKKESkCOoHKBaUYoQAgn5SDGAJFiAU4YWqQUTBrqjn/9iL+212387Ozsy9M3vP73d+s2/f7C3n3jlz7qkX+pIKlQKVApUClQKdUOBCnbRSG6kUqBSoFKgU+JIcDFWfjw3858BLBH428JI9XD83a3/xqt+vCvyX2fVf43qxwHT9t/h80cB/n13/I64XDvyvwK+Yu/53fP6ywM/Prv8T10V6/m9896Vz97j3y5e09Z/x3UXm+tT3V86NKY0tjdn14oGr5lgiTf8ixvuGwF0B636/wMsEHrS/d3GffnL2rJwXV3v/vbP9/Hdx9Sz+4+z/ngPP0GggB0P9hqDOuUuYz2iIVgfaigIeoq8P9FLZBSA0PKHu88ZLTUDBj7xgCBPnz5jrW+OK8b4+8J2Bf9+4xQw35mCo3xzzfHOGudYu81KApP91gZ/OO4xBer9S9PLHs/kO0uGOdILpvn/GXN8V17MCnfgw3yJe1DkY6kNj8s/YkQ1Qp/n/FHB0u9WM0UyZLteLyb0l8FJTnmQhc6NmI9FSxb0t8HcDDwdS62WBHAz1xTFTuqUKu0eBR8SUnz7haZOWnhv4/ROeY+lTI6m+JPDVgX8Y6G82h0EgB0Mlnl9ukNnVTkqjwMdjQPSoozI0NCSiZ8mDfEpgjueq4TB36jaGZDpXjPXnAv+079kPvfCOQ3/Z96Rq+0VT4IQYnSPx1OAuMaEzpzapic3nBTGfw4F/Hsi7oHMYmqE6Dj2w81nUBsdEgTfFYG87pgE3GOs1455zAlmnK5RNAacjboivDfzRQK5ancHQDPUjMXJHvgq7SwGbmW9mLxJCBrIyPv114LEZ+q5dbkeBj8XPnx34vMBO9KxDMtQrx6A/FMjhucLuUoDryw0C3zMREvCPvP1E5rKr0xDMwwXrewMFxbSGIRnqjWKUfxI4ZJ+tCVN/2CsFviVad+QaMxAMHBmfNeZJ1LEfRQFBBAIyjrSly5DM7QExyBe2HWj93aQoQKq748hndP8Y/y8G1hPXyBdyYfh0rO8IvGcgFeVGMCRDPWP2Rt9ogPXmSVLAEYsufaxRUyK+3hh4rUmuTp0UCsgnIKqTakoAQSMYkqF+OEZ0qNGo6k27QIGnxiRPH+FEvQgkemFYqzBtCvBj5cP6rYGEgLUwFEMV27wXOFR/aydeb8hOAfvhKtlHsdkAHO+fONIXwWYzrXcnClABPD7w5wM/s44sQzE4m/DR6wZT/79TFPDGl3mM68pYgNrqtCoYjGW5Oh3nJ6K1GwaK9FwJQzFUfnrX7XR6tbGxU4Be6vqB7x7JRG4W4zx7JGOtw+yHAr8SzcpHsTKF4BAM9YoxgI8GShxRoVJgngLPjD8eNgKSfO2M8V96BGOtQ+yXAniZEPp/WtbNEAyVJVRuSBnpRcfIfp/zOp91P2Xh52zue/oS46Qr2wV3GFIiR2bRPkPshcU9KFM7KRX9SwXhpGK/c1v0panz3Czbv/YxgSVVj5i/2sfW2dX+ts6LyWnSd67pXtf5ihSpzfSsLFawSH+7Lz1DxqqNqcGDY0LC6C+wb4d6iDywqWyHXIV9lO84qJSE/lLpk2UlTzw0qeyIRMjKMHzN7CESp32NwFsGXn1iO+NvYj43DnxV4K0zze07ot/fydR3k25LSDdJz3zcjNnZnxhWui4yWQ855ppK9MwzyMRcF5/7VKpn8d5Usie1Oc9ECUaLY0nPEP248kaeec/OVwfKheulxBWJkXrMgE4vCvzBxUkMxVDHTLz5sdsktwn8xsA7B3pR2Bw21xjBAyMk+MdnmGMOIqZETpUGng3O+88PzCllcTcUBCFT/VTAM3OL2byuE1feHtQpY1ILemkcCjzKSFUZavstinY2AGbKYEEfKEZ9bCB08jcC355p4ByobcylOqlMY9KtdHwk95zMlGTohCQHxlQBfUl8bC3fHfi4QEUNxwBKOZ0Y+EUVSmWo3S4byfVpgY45JL8xgOJ53Jc+GHiFDAN2jCSx/G2Gvld1iQ6YqRdlLqCiUi5IeOsuAQHlhwLvG0h6pX4rGR4Zg/uZNMDKULtfKjSljD81EHMdg2WYHpWO7nD35GjUoiw/ufpeHOBl4wvGsss3Gnk/N5F4qJRe10/zo2jV6Q8zlV5PyaRSjcTCpwlQ+07/laH2u7cYtn498CazzdFvb+1b/7b4qfRl/OsY8IaGl0eH3zV0p0v68zyw4CqXkQvotdEDEyG9V/gCLR4VyKhVGs+irnCSkUmvuMFNcfN4szpSqynOqFUi0Fv9dOBvBX5nhgGSyHhQ5NYVPiHGIH1bzof2MdH/UwIbJ+TIsF45uuTZwHj65Bydr+lTApX9wKU+N87Von0W3EXXi3m3juTe0deVZVRigxLAW+wXAulZSwMuICp1igKhpsgBT4pOMZNcwPjjqN/nM7Fubh7MEwM/NXejteFqtMzHNBl05n1NV7lJJR/Ug8Yw76c63+ZD4kcl5K81X3vUS6+0cjOSjP9+n5vnXtGB425O8EbLeXxbnLvjtCKFpSUFUQ2SWkImpY1zQHa0wCqiHgrM4eRPz42ZUdHkAvpSL3++nQkwELWqRObkAow8+ZHnGsNivyUWRHQCvVmfDNURMqfE4U3NSvi+UnbBbBwig14ZeNWCxiWcLjlbH4nPOZz8OYUzBAnQGBIYEN8W6IWSC7iO8W8WkTUPnk9F5HKWXZe+7uRchDmg35+I/1HRlOK7ag0v3ydD/avogOU4F5wbHV87V+dr+jWudwWWEhBACkmht8aWo96T46ZotKETkNDJ5czL6niPmZ+3ZM8QCHInjxENVKLrFt5lXCqBlAD72dP6YqjHROP8Gz2kuYC6gaNwieCtqsxCSfrUQ3MP9V58zuFH60RDlzoU3Ds6kkGIwSMHeJGxYL9sRecSxzw9x8Dm+nRycYIpEW4agzoSeNECBkcgOK4vhqp4mdyROcEYnpNzAGv65u9oo5biuHy3GMuZszEznv1wBtrx5XO8xWj6hm+KDhRly/XS9wB64YtSWwVOWYxluYCPJdXUVpVAex48N7dSCiU+oi+GSu9yYs+EXNe8+GfF4EoG0kcp6etszPQSvE98fmkmwt0j+qVj7hMk63hJ4J367GRN2z8b/xcJtQqOjX/klgzFqauflcNQ2HRpnC6oTUpwSXxhHwzVxCjSc7o1ePuncMqmC5PjPhnAOQTnjBdP8+aKorICsEn/ITCH9PyW6PeEHhfDnCQ8z+lpIazVi2Mxjd78tL8n/jjcIx2aNP0HcRNjWengBVyCe+S5fTBUb1auN3203XRhWYwdqRsV1mraaA/3sWorrVACQ130AxWf/PAe5ryuSTHs1q6vKKFTou1fXTeIHv8voQafxXn3qGXdKbme2+AylgTgxslFMjec3wfTu23M6g2ZGepvR/85In42XVBSPP/LEipo0kNx4E5gbHRoQ5805PcUdSJZS9fwwGiQfriPfd9krEJ7RYSty6zFqZ50mMN9bX4ejKb8YEsHOXWF6+aG/+ljY50as2I5zQky1eSUQprOHf0drUtIoKKq44MWBs7h/0ZNJ9PhfRKDyC3QJShjsheYywhFH0oyZWhqAsJwc6ol6CXpT/s6KTShQdN7RJKR/LNDHwz192JWORMGk3DocV3HACIscjqVJxpJPrEYdkqv+lMZiMj67iHpCuiE+f3mLGPixbTouL9qfvS8LOs5VUESa5PoxwA8IZq+qHqdT9cM1dt/L5A0kAts2hxSVdv5lsJQ5aB8wcIkHDmPtJ3YFr/rMrEypiSskyoqBygDwoPilzbovITQyv3Y9A3GnPNWknzuxDrm3/mR/3bRKP1pTuB7ygd1LJDrWL1In1XHbC8o3ghDgxwMXRga+NPSm+YCSWckONkEXh038wvOBYy6hwJ564wBSpFQP9m1hErC+YHMK8Ayuok0kHm4+zVpcsZqp/mLjFqWGCWXwl+kHR3eQa5F69bu7nEDf9ocPoqCE+jxhW6us+jPz4MRECPLMeY0DvkU+OqORW1GZeaklxve1CVDZZm0ESxELvDwnRhYhIK6ARE8PCpachPKCazOqwxj1lWcOXe4IYEOkeTRtjSKLOp/ETi0l0Ki0fPiw48EbvpCOCl+w8KfE+RyUB+tZIf+efpIkP6KnASb9X1GlwzVA8nNJnepgpJjjxfXnBSCZrksz2k8fxYflEFZBSLO6NSGBNnCMNQ27lP2ItUPn9McwNWIdNwm0imXIXCeTm+KP3LpnNusVwk5D4z79l0yVA+kypk5LZN8OoeWpNpsgPSbUrJOUZEc5ETufxzNhwa6z9M27NTLSeKZHHpfQxX5pkRyG+nO8/g7gSSunCBhS67Q4zbz5qZ5apsfdvgb7mXX6pKhClF7Y4cDbNNUmwewTT9d/aYU/zn+p/xQV4EEGY6BQ2dlIuFxdfrXDQguPp/rXo6TEp9itbFIeG2Be1fOcuR0v8K2S7CaN6WhF6hkNzmBnvyYLhlqrgxF80RE1P1iWSMBMd2Ohrnh+BgAfeNBkCsUchNpiWRHwutyXzddGwmGZdanE28L0joyUuaMnMOccpbP3pR2l4wfiEDLrTaT//kGXW683P6UQ6Z+23TRl90veTCXpKGlvsWxkESMZZ0lmqQoqcjQKh3Z9G/VgODKdGBmOaq2kuqE7R4k5TeYwn45YnXQcsJRdeZzDqRh37lyTiwObz+5UFcMlSFoWcbxhjTp5DbO2znTsW0yCXT/o8Auo4E26X/+Xk7kr2nwY2NmbBn6OMrKzzh1UE5Ox3tZquguc8D3RqeHO+j4qdEGhpYTlOghbY0BqCZESHXFx9rO2R5lu/l8VwPxdpbfMScovavOzBiAm5RFyH1M+XCMQbKOpiWLfy3uHboKAmW/rFyO1MsAM1X++tszLfzh6BdD3RbMwwkgZ9ketCbpl56lLdFahrQSnvkvlonpiqGy7itHkBM86LmrrDadfy595OL4HhdfKKbYFO4QNzoJDA0HRRvRQcuH2dVe3mRuaCFvRdMX0kFtk7ZyF5QU2EH9I1y2dOBfLPjDCyAnODlRhxlLJ5uQDpAVNodVdZ6QYzFIfV8MWkRZ7mqNomDQbJ0xap7G9JN0fEOXWxbOjJkvgu+49+SINBMyTLe7Tvfc9GEvIaH0XgyWR8emwQhN59jVfV8VDf1mYM4kTGku9gFhcv+l2sVb3ZtVrfmcxhUbgDN3ybVv0Fvde+5HOQwni5tZnLx4+U3B8UYmoqGBBd2ROMEV4gP9WY7UhwygjuZdxro/N9rLnd2JgSe3DrfJvspdoj6NkSR/KJCXwT50wVBtdAw1JzCWlFRBdBktSHVqSOWK3pkfE0Zk3do4nztq2UBDl0cRypkKB4owY8DJUUgQExUe+t6ON/yRaC93Qmnqk9/teF5dN3dyNEhnrrJybjg1BvDi+UF0wVCVyfBmywnzBeZyjmNV35iPozUDUAlwz9mmbDMWe4bjOqYyJHDvoqviovTawGUqgCHG00daO65oHwiUhi4XkLboI4eoONt2jjKiCdrogm+1HUP6nRer51nJni9CFwOjyxAdkgvoLkyMxbpEkBtWdUueEF3Qe9s52pDKw0jR1hZy1PBheebwLtctl7OhddD6dyQ/SiJpS8CF35G4Sf0X7qi9Ns0oZ33vNj8c4DeeG4UbfzmQjjc3sBlJEWo8R8G2D7g3q0xFlMS5wJudHrdEwAD49ElDVwLQQfIz3NboQFLs+sjbhD4/Fjdh5kMHFxgbvR2viD6gBINUyWWDTg2iY17b8quu1m5ZMvb9trcdIBG8iVN4VxNZ1k6JBfnQVVlbDKDPksib0JW+1ENDEtkWzE+KuRO3bWjD33sRbLtnN+xy33r7i4FOGZvkFNikn9wJpdFV2k25CEoC/tr05I8IzJkfdp4mB7qWbbs5S8jywrGXU39JYAMYU25Xsnma3Cf+4JjfFcguNqa8CW3nfWb8kLFmW6l+Vf88PninbPsstp2f30khKRrNtRTgCievcc46YIu04GvKmLuSTtssImZB75MzkYMJS4ghyUhucAzlaSCeO3eQwyItMFIMtWsQ7cV9aaogUQipnlqpL2C13iY7VRfjorYjobbx+uii//k2SKWMpgpGliKVGp+Tiuf7QL/tbRgqNyAbLaf+1ET5A+aueMiKr6BZrljygza1t7zUil0/LPYOdcs9un6iCmnP3ra3+rZ6nx59PDnznEvJg0GFKOotp3Fu2VI4nRBIXrZunbZhqIeica4s27Sxbnzr/s/Vw5t1G4v1uj5W/d+8eRdwdMdUcrq8rBrj2TNm2ldsNkvnGW0JWPDvnLzuHziET6Z0g7lfSo+PMTwh03oQyPjfMvRwhSuNmSIL3/G1zNSN2zBDyShIKDmBg6/jwdBwxejQg1CiRJpoIS5caGmf0WP0f/RJJT4EbfcEw9N1A/faNrDB7zx/9NC5y55LG9im1MwGU116Kzct1SJy1f1qMv6N8l1sw1AdUxxXcgJ/yqGYOncjqeskPJZ2L2eo7TqaS1Zzx0C6sb6hlHyUXcyTnoyk9lNdNNagDc+fF1JOOwR1mYQofRnd5slANSb/wc0DMVOGsJJh4xLg2zBUElBO/0/JPRwXutYNzi8wQ5OjCMIOnQe07Ub7w/ihpBF9HfMXxyW65lOBuVMRtqXX/O+UQB+ydlYJ5Y/59Spy1ydwxifpEYCGDlluMy8vViqfw5v+uC1DpTvEUHO6Bcl23+VRSSkFUU0YpzcnvQ6rXo7kG5uuY7pf+kJW6b4NKYvjk4HKsXHMwFNk6OJ4JUj33N9Uve0C8BPPkCRAXhZcnngx2Bs5gjHazIldhptcK8+LtgyVnyW3hpwgcsJbpC1wz+BT5mhs0THnsSz64py7dNpvQ0/ZpxjnxgqCFMToD/0i4tdIH58LnGIID23KXRszgcopFVO+a6Aglpzz2ZaO1B94wX5u0zbQlqEKYaS4zwkitBxvZRl33Fy8ivWmErDopEx6KkxU9ndvUf6Tbeefc96LffO0oM+m3M8FSs9IWDJG8BApOT20pwhGltvdzzPzmEDqM89CikRLV8/ORWfIcMQv1HPjeuXZs1SSr2jb/edFipdwjdoqJWMbhoKAwq/GdBRuS+jSf6fkMEu+ByM3iO0vKaqlCT1kCnJK2Wtyc8f3eHglx66QlwL0pQ8IFPW5NbRhqCQ8ETJtfrv1gGsD+xT4XCD9m6P2F5PbZqZNCW50m5BAjSoRbbmqjJaQUHoTek3xXkEvzwnkKdSJl0Mbpsj3UoXJnAapKS5u0zl5mbHiM8qVBNzIPhFIrTIGyFmDzHN3VmCunK5jWJ++x8hRXzmirkrY7I+3DUM1iJz6ur4JXWr758fAxORLBjO0vq8pTViLS6+cQF94amDugo7y9x5qSth6XycUIIWKxWdUFyreObRhqN6sLOMVhqPAO6OrEwOH8i1tO7MS4tLXjV0qPr7FnRzx1nW24v98d6XKq6e8lgRs8TO6UqkAFcjsDTZlqEINPxaYu3RrbwQprGFv0ycG8mgonZkiHRcaCbVLDEXFQJ8dyMGcDjon1FPecNRnsPUSfXFg7+kmN2Wod4tBSYZboV8KMJhw0FeuZGzgKH2vAgftYaL/7zOyrum0+b2e1PTmel9rCig/rhoCu8MgsClDLSEzziCEydSJlHGyN1Gr/E2mMWzbLf/KdweWFCTx1hiPY75x5QZGOw/4FEJ1c9NyWf9emJImvSJQcnA688FgE4bqAXHcH3MkxGCE3bAjSUzEkdsIYwfHfT6pJRRTQ8ul1SkzErmEhNIZp99r1yRS6pSP99rLAY1vwlDFun8msCrSu1ktery3BdLvcEMrxZ+0i9nZ2LfroqEt20DTHynsRfXoGA+9eIVuKCBS8OWBcteqsDB0+PBRs9iEoR4Xv+QWU6LBoZulGaYVRxIRMpIzS8QwRaBDze2W5KgniuzAkhUZiG/t+yhHk2EqWbt08jgtcKj0nY0muwlDlX3pSKNW602LFCDZ0z9zf/I2ZXSaMghPduzPVT6bi8wzAh9ZIJEFZMgdUGEzCvDS+NNAWaBeHyjKyToXBZsw1Boqt/nSCWtUStoGKG7xN5/ORr/ImZFM30/faLTD3Ox58zKlPqvQjAIYqcxyEn+3zYrVrKcO7mrKUN1H4ig9w3YHJGndhBA2lnnMU65YkRh7O8hIEwFl+pJ4eujyFiQY+tucjvurNhG3LXrzCqspQO9NEkUnrm7qovVZxqfTtWjKUGURwlArHE0BD61jPOu8TO+5HcZLWh9uQWhz/ICDUvpFTs4Ssm8tm7ZEHIxkFY6mgKxfqp0eDuSjO1poylBLqB+Vm8hyVzpynBMofaHreYHZXDRyE6RB/x4QjtVDgLXx4ldkr0TwgjFG+UR3FTBOghl/a8+Tq9zKe4H+N3poylBJGkoa7AqwEHNlcuRwhHQdouDd1OjLys6VpW/ARO3P9/Td0Rbt7+Ipj7AhcbM94IqZTtqW0ISherMeCeR/uiyr92KW767/tgD6Xrw26YeLEubo9xgiPWe60u95K9LZeCCVPWAwkILOPZNe+C0YwyY/RXe6ZM7sfYG1YzXPlde06bzodX86sMm+7eo5azq2g+4zliT1U6VQa/kb+izJi+fFswO5M/nOtdTTQhd0WdpGE4baW+e14Z2ggFpNDHV9wYOjYeG6FSoFslOgMtTsSzD5AdhjfdSeFxFzSiCDYIkW/ckvbJ3gBSlQGWrdFX1TwLGfE/YtO+7oddHeXQKzhhp2PKfa3MgpUBnqyBdwJMNXWZP+sCt45qy9aijsiqK1nU4oUBlqJ2SsjayhwDHxf0aKLlL67UU78kpMNQ9C3UwjpkBlqCNevJENXZXWh285Zq5sDwwsIa/pllOpP58iBSpDneKqljmnr49hkS7bpn/k4nbtQDl5K1QKFEmBylCLXJZJDspewwy/tsXs+DU+KFDV1wqVAsVSoDLUYpdmkgN7Vczq7hvOjBX/ToG9lP3dcCz19kqBAylQGWrdIENS4B7RmbywTYF/6bMCHxpYfU2bUq3el40ClaFmI/1Odmy/7QVeqeHsnxb3ParhvfW2SoHsFKgMNfsS7NwAmkqpEvLIH1od93dui4x3wpWhjnftxjryS8fAGackoF4F3KJkqtq55BpjXdQ67i9QoDLUuhNyUEBlg1VlpsX9Xz1w6nW3ctC99tkzBSpD7ZnAtfmlFJAdStXXRZBe8VaBSmBUqBQYHQUqQx3dkk1iwBz0/zLwy+dmI3ftjQNLK/s8CYLXSQxDgcpQh6Fz7eWCFHhNfHXnua+fGp9Pr4SqFBgzBSpDHfPqjXvspFT1hOzB+wa+LLD6mo57TXd+9JWh7vwWyEaAS0TPHwzcC6Q3LbVSaTYC1Y7HR4HKUMe3ZlMa8Q/GZH49cDR116dE/DqX7ilQGWr3NO27xcUCbqmAoVyjnOAZehh4FFck9aXrhWefvzquXxnIH/TigZeb/c73fueqHTlMFSq8zGxC7tf3pQL1ScLU1/x3iwXotD9veEq0uehsDIu0wliXOfKz/q/ySU3uVcauaNz8VYYqNEhXOVQVbUxXbaa2JWDRP/S9dhdpmGibronmaQ3S2izOq/69IxSoDDXvQnswMTDMCqNy5fDus+tlAzFCtdzdm5ic/2N2rsC9/na1phcJ9JDPXzGHCs0p4OWAGWPw/zb72b/H1fcYLvpi4NYF83X9zOzKlxazFcDg/vMDMXKVdtNVW5i438Cq8mi+NsXeWRnqdkuT6LfsigmS/uQBvfzsuvj3FWcP5najqL+eAgUwYYz3ozPG+5G4KnF+XqD/7c3+j7nPS8YYfpWMC9kBlaGuXgjSH4kQQ/T5UKAj7FVmV8yRVEKqJEW6h0ToHn9X2hayySc2DAyVhOxKQibpUlNQXaixhQkrN/O3s8+fiCuGjFEnSXtiJClnOrv20CddV9KBYYCO3NcM/IbAawQeH3i1QBmRdo0+5ezMOpI+KEB3/OeBHwqUL0EI8DmBVBNURsltbfHax1gm2eYUGYbjEMnyOoGyw2OQmKb4cOCYnfSRjDNVtzjJrV0ntQEFqA3ogUmw9LpJz+vvvwr8ZOD7AumA3zPHeDfoYjduHRtDTbqiZH3FEL8u8KaBNwgUuviNgclYsxurWGdZKTAcBagWSLbvCBQmLO/Cu2ZMmIeFZ5S0u5NQOkPlsnO9QEfwm8yY55Xjyu3mawLpK9sWfdvJBa+TrhTogQJUBHS3JFrGNIwVk/144J8ECuDwefJQCkNNEqdj+jcH3i5QPkwGoQqVApUC46YAhstb4ezANwe+LpDRjEEteSyMe4az0edgqJeMvh3LZWO/fiDd5sUCHd39r0KlQKXA9CnAQ4F3AonW5yOB9LMYLr/cUULfDJXkSeF9o8A7BJ4SyJpej+mj3C510JUCg1CAJ4JijhLmJEl2FL62XTNUuk0GopMDTwrk3M6qXiXPQfZh7aRSYFIUoCrgQ0tifW8gT4OzAtUb4wJWHGzLULkfmfTNAu8V+AOBnNorVApUClQK9EUBBjASrBLjdLPFBCy0YaiUyCcEql4p7dqxgfw8K1QKVApUCgxJgSTBUgsweL0i8PWB2fLqNmWomChp9H6BpwUyJlWoFKgUqBQojQJ7MSD1yv4gcPCquesYqhRtDEnfH8j/UwRShUqBZRSg0xJLLsqG8zfnbt8xQPp+PtyXWshLmndHutK/8ztetycr9SsFmlBA5Nf7A18S+OJAKRx7h1Wb14bnSH/mbJP3PpDaQTEUSDlNMUX7IDFFRfVSDDgdlqQbsiNBnzHSbYFXiJc2FzpqJFdJaHiGcK8T5IEJ27cY9fx1277r76dLAe5YDw3sXR2wyFBJC/cPfOxsM1dpYbqbLM0MIxQ+yIL6R4Hitj8cmKJfRL1gqtn0UgtLkDJ7uWK+JNsbzhiuoBCMt56kps7kv3sAAAeTSURBVL9v28zwA/GjFwUyZnUhAFxgDPMMU3Li3ws8sc1I629GQwHRKZjkbwSqPGrN/T0VIOXaw3cJvHcgNQJBoQoHU1nh7edxRjTxyEDPQqeQNtndo9WnBUpjV2F6FODHp3bTSwNZRMVV70KGeIxUopzrBt488DGB7AIVKgWkLPyWQKqszgBD5XRPecsJv8L0KMBfz9tYhqBdB6ewnwzkqSJTWYXdpsDbYvq3CWQv6AQwVBvs8Z20VhspiQJq3n9XoAiTCkdT4CrxJ9eah1TC7DwFfj8oICy+ExsBhsoIITy0wnQowP+OmxtrfIXlFJB8nNeCqg0VdpcC9Kj4H9e+rQFDVX9GEbkK06HAXkyFFFZhNQW4XfFVrDrV3d4lkjepC9eJnyqG+rzAH9ptmk5u9qz2XIjePrmZdTeha0VTynsIOKiwuxTgMij3cmdHflnvVUTEpStMhwISRvxmoCi3KblFbbtC/FZZ+x8QWA2x21Jz3L9XTeCugU7pnUBym7pntPbLgaJQKkyLAqz73xcox2Qnx5oRksfxHsqKhpkyQlTYbQqwM9w+kKW/M5h3dhbqx8lbPtMK06KA4wzjo4qW4pqVoOAFMHUQssrX8DsC6ZTVIatQKXA4SPCkQLWuOoXF6BFv8dMDHx3oaFSjSzoldzGNYbD0hzKicxtRUI2PJgnWmo+tamXKwcu39LKB9wlUl0x6ybqHi9l22QcimOUFgQ8L7Mz3dH5Wqzab4njqPv1KoNC9CtOmgLhm0itGS5/O3cpRiFR7bqDYfhFWOcFelSjlSoEi+riFSSPpM0s9FBVV3aByrlKZfYvhF78v81Svaq91b29Sy4MDcXTGK3HSFXaTAnRO6rArqrY325j0s763Yb3xhbTaJzatvSOpCqmRgQyjw7iXXUkO9Pfc9/gEQswzZZ26RnyW9MR3FSoFmlDAnuJj+tzApwR24me6ruN1DDX9Xniqt/99A0Xf3GBdw/X/O0kBqoKkLuDfZ3/Z2FRJiZn63ouZNJySlqRUfDtJtDrpTingJPW4QC6DTleD5qxoylDnZ8xvj6uBNH+3DCSRVF++TvdEbaxSoFKgIQW8qL2Q+ZOSRn919rJu+PNub2vDUOdHQL/qCHfrwJMCvyeQMatCpUClQKVAXxSQPe1Ngc8PlNycjr/zVHxtBr8tQ13s0xEOc6UW+NYZcyXB+r5CpUClQKXAphRIKqNPxQ+5OWGi3DsH0YluOtiuGep8/9rm2+p64xkqNc3AUFUEm65Uvb9SYHco8O6Y6psDfyuQxwlDKAm0lyz7XZK1T4a6apz8BKkHoHhzbi8sxCRZupAKlQKVAtOnQJI8Hd+dYF8dyJD0ykB1ykYJORjqIqFIq9xlEFhtIEkrJH09LvCqo6RqHXSlQKXAPAVSpB7DkQz5ZwU6stN/+p/PnSQnyU32EhjqQTTgqiUUVpDByYGkWeGDfB85cht/6XPIvca1/0qBISjglJlKhjNMSzyiEsgbA88J3ImKEWNjRhaMDyO1AYn22EBM9xaBImeODyTh+q5CpUClQPcUELQhkENpZvkgfCZ1kjBF23kuCTz8jXOBEy4eIbCEMQuzNyYg8xo+wl+afjZFTuGFAkk+F7jK4MUmJMxZdqql8xsbQ226QBiqHIeia04IxHipExBPmkLK7ZRZq3ogNKVqvW+qFMAMMUJMJhl+RLdhRO8IJF2eHaiwnbwPped6uHOMkZRMP/vp2ZxStd+UytIcJBhP88ULuYH6/2eXLLT/4ytUlNrdKYa6bONjnKkwm8gvG8gbB2GvEyhGnHSLCdPdkngrs11GyfrdWCmAETiG011KjoNBkjBdMRYM1DV9Hmse3RSBlxg/4cl3pE8vD4hBzutt/Z2e92XzJtX6P0SnpTrfqUqoXWx4sejqDmGwEhFz93KVEk5MOWaMqCkZB1UEonuD1VDKLlagtrFIAfsNk0gPPKnLA+44a9+RuIReqpUlyQ3cC8RAMc507N01yqZn1ItinfFrkdEmWiV7TcrGVhlqx7vIBoYYabr6nBirtyL1Ar2MqwxertcOdLTwvWtNONPxwoy0OdIjHSRp0ZFT9I9jN2d2EtH7ZgyRTtDecr+9Q08IMNfSj+K5lsZLJ72Meh1DlVB7Je/axkmyXMZIvq4U6Zisz0lC9vDQAVOGU0M4triHPphOJ3k8ePjc6+Gj2qDS8BsPGYZvQ1U/37VLctQN8wle0BDTIu2kLFrWgv80yZAaiZHjmEBpD91HKkR/EqO2MElSEonRb93H53KlkWOz4da7V1BgldTZOcEqQ+2cpL03mJgjpbujX2Ki3Mg86JishxVz9qBjzh50KfFIQPTDmC9VhqvvPeyYtIc/1RbDIOwP7XrDY/D6diUZYdoYdhqH/2EiUHt+44qJu8f387orbaf7vRz0vXiM8rJY1Ge5Zz5qJkke5gxYaLWdJDhzN06Snf4wMOPBxMwBUzMfqQddz5uN3X1o6Hdoox00QVNMlBSJ9vrVPlqaazLu7A+mwm5RoDLU3VrvOttKgUqBHilQGWqPxK1NVwpUCuwWBSpD3a31rrOtFKgU6JEClaH2SNzadKVApcBuUeD/AK7ahcBjIzvhAAAAAElFTkSuQmCC";

let boundX = canvas.width;
let boundY = canvas.height;
let x = 37;
let y = 17;
let directionX = 1;
let directionY = 1;
let movVec = [1, .7];
let imgWidth;
let imgHeight;
let currHue = getRandomHue();
let rafId;

function getRandomHue() {
  return Math.floor(Math.random() * 360);
}

function drawDvd(ctx, posX, posY, currHue) {
  ctx.clearRect(0, 0, boundX, boundY);
  ctx.drawImage(img, posX, posY, imgWidth, imgHeight); 
  ctx.globalCompositeOperation = 'source-in';
  ctx.fillStyle = `hsl(${currHue} 100% 50%)`;
  ctx.fillRect(posX, posY, imgWidth, imgHeight);
  ctx.globalCompositeOperation = "source-over";
}

function animate() {
  drawDvd(ctx, x, y, currHue);
  x = x + 3 * movVec[0];
  if ((x >= boundX - imgWidth && movVec[0] > 0) || (x <= 0 && movVec[0] < 0)) {
    movVec[0] *= -1;
    currHue = getRandomHue();
  }
  
  y = y + 3 * movVec[1];
  if ((y >= boundY - imgHeight && movVec[1] > 0) || (y <= 0 && movVec[1] < 0)) {
    movVec[1] *= -1;
    currHue = getRandomHue();
  }

  rafId = requestAnimationFrame(animate);
}

let img = new Image();

img.onload = function() {
  imgWidth = img.naturalWidth / scale;
  imgHeight = img.naturalHeight / scale;
  requestAnimationFrame(animate);
}

if (scale > 1) {
  img.src = imgData2x;
} else {
  img.src = imgData1x;
}


window.onresize = function () {
  if (rafId) {
    cancelAnimationFrame(rafId);
  }
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  boundX = canvas.width;
  boundY = canvas.height;
  requestAnimationFrame(animate);
}
